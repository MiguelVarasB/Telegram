<div id="video-modal-overlay" class="video-modal-overlay">
    <div class="video-modal">
        <button type="button" class="modal-close" id="modal-close-btn" aria-label="Cerrar reproductor">&times;</button>
        <video id="modal-video" controls autoplay></video>
        
        <div id="video-details" style="margin-top:16px; max-width:90%; color:var(--text-muted); font-size:0.85rem; line-height:1.5;">
            <div id="video-title" style="font-size:1rem; color:var(--text-main); font-weight:500; margin-bottom:4px;"></div>
            <div id="video-meta-line"></div>
            <div id="video-extra-line"></div>
            <div id="video-caption" style="margin-top:8px; white-space:pre-wrap;"></div>
            <div id="video-ids" style="margin-top:4px; font-size:0.8rem;"></div>
            <div id="video-watchlater-pill" style="margin-top:6px; display:none;">
                <span class="pill pill-watchlater"><i class="fas fa-clock"></i> Guardado para ver más tarde</span>
            </div>
        </div>

        <div id="video-edit-form" style="margin-top:12px; width:90%; max-width:90%; background:#1b1b1b; padding:10px 12px; border-radius:8px; border:1px solid #2a2a2a;">
            <div style="font-size:0.9rem; font-weight:600; color:var(--text-main); margin-bottom:8px;">Editar datos</div>
            <div style="display:flex; flex-direction:column; gap:8px;">
                <label style="display:flex; flex-direction:column; gap:4px; font-size:0.85rem; color:var(--text-main);">
                    <span>Título</span>
                    <input id="video-edit-title" type="text" placeholder="Nuevo título" style="padding:8px; border-radius:6px; border:1px solid #333; background:#0f0f0f; color:var(--text-main);">
                </label>
                <label style="display:flex; flex-direction:column; gap:4px; font-size:0.85rem; color:var(--text-main);">
                    <span>Duración (segundos o mm:ss)</span>
                    <input id="video-edit-duration" type="text" placeholder="Ej: 125 o 02:05" style="padding:8px; border-radius:6px; border:1px solid #333; background:#0f0f0f; color:var(--text-main);">
                </label>
                <button id="video-edit-save" type="button" class="btn-primary" style="align-self:flex-start; padding:8px 14px; border-radius:6px;">Guardar cambios</button>
                <div id="video-edit-status" style="font-size:0.8rem; color:var(--text-muted); min-height:18px;"></div>
            </div>
        </div>

        <div style="margin-top:12px; width:90%; max-width:90%;">
            <button type="button" id="btn-hide-video" class="btn-hide-video">
                <i class="fas fa-eye-slash"></i>
                <span>Marcar como oculto</span>
            </button>
            <button type="button" id="btn-watch-later" class="btn-watch-later">
                <i class="fas fa-clock"></i>
                <span>Guardar para ver más tarde</span>
            </button>
        </div>

        <div id="video-messages" style="margin-top:16px; width:90%; max-width:90%; font-size:0.8rem; color:var(--text-muted);">
            <div id="msg-toggle-btn" style="cursor: pointer; display: flex; align-items: center; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #333; user-select: none;">
                <div style="font-size:0.9rem; font-weight:500; color:var(--text-main);">
                    Mensajes asociados a este video
                </div>
                <i id="msg-toggle-icon" class="fas fa-chevron-down"></i>
            </div>
            
            <div id="video-messages-container" style="display: none; margin-top: 10px;"></div>
        </div>
    </div>
</div>